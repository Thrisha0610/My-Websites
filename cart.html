<html>
<head>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 1200px;
            margin: 30px auto;
            background-color: #fff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .logo {
            text-align: center;
            font-size: 2.5rem;
            color: #2c3e50;
            font-family: 'Lucida Handwriting', cursive;
            margin: 20px 0;
        }

        h2, h3 {
            text-align: center;
            margin-bottom: 20px;
            color: #2980b9;
            font-weight: bold;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
            font-weight: bold;
        }

        th {
            background-color: #3498db;
            color: white;
        }

        td {
            color: #2c3e50;
        }

        .quantity-input {
            width: 60px;
            text-align: center;
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        button.quantity-btn, button.btn-remove, button.checkout-btn, button.submit-btn, button.go-back-btn {
            padding: 10px 15px;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s, transform 0.2s;
            font-size: 1rem;
        }

        button.quantity-btn {
            background-color: #27ae60;
            color: white;
        }

        button.quantity-btn:hover {
            background-color: #218838;
            transform: scale(1.05);
        }

        button.btn-remove {
            background-color: #e74c3c;
            color: white;
        }

        button.btn-remove:hover {
            background-color: #c0392b;
            transform: scale(1.05);
        }

        button.checkout-btn {
            background-color: #3498db;
            color: white;
            font-size: 1.2rem;
        }

        button.checkout-btn:hover {
            background-color: #2980b9;
            transform: scale(1.05);
        }

        button.submit-btn {
            background-color: #3498db;
            color: white;
            border: none;
        }

        button.submit-btn:hover {
            background-color: #2980b9;
        }

        button.go-back-btn {
            background-color: #f39c12;
            color: white;
        }

        button.go-back-btn:hover {
            background-color: #e67e22;
        }

        #empty-cart-msg {
            display: none;
            color: #e74c3c;
            text-align: center;
            margin-top: 20px;
            font-weight: bold;
            font-size: 1.5rem;
        }

        .total {
            font-size: 1.5rem;
            font-weight: bold;
            margin-top: 20px;
            text-align: center;
            color: #2980b9;
        }

        .offer {
            color: green;
            font-weight: bold;
            text-align: center;
            margin-top: 10px;
            font-size: 1.2rem;
        }

        .checkout-form {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background-color: #ecf0f1;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .checkout-form input, .checkout-form select {
            width: 100%;
            padding: 12px;
            margin: 5px 0;
            border: 1px solid #bdc3c7;
            border-radius: 4px;
        }

        .checkout-form .submit-btn {
            background-color: #3498db;
            color: white;
            border: none;
        }

        .checkout-form .submit-btn:hover {
            background-color: #2980b9;
        }

        #login-form {
            display: none;
            text-align: center;
            margin-top: 20px;
        }

        #login-form input {
            width: 100%;
            padding: 12px;
            margin: 5px 0;
            border: 1px solid #bdc3c7;
            border-radius: 4px;
        }

        #login-form button {
            background-color: #3498db;
            color: white;
            padding: 12px;
            border: none;
            border-radius: 4px;
            font-size: 1rem;
        }

        nav {
            background-color: #34495e;
            padding: 15px;
            text-align: center;
        }

        nav ul {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        nav ul li {
            display: inline-block;
            margin: 0 15px;
        }

        nav ul li a {
            color: white;
            text-decoration: none;
            font-family: 'Lucida Handwriting', cursive;
            font-weight: bolder;
            transition: color 0.3s;
        }

        nav ul li a:hover {
            color: #ffdd44;
        }

        footer {
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            text-align: center;
            position: relative;
            bottom: 0;
            width: 100%;
            box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.3);
        }

        footer a {
            color: #ffdd44;
            text-decoration: none;
            margin: 0 5px;
            transition: color 0.3s;
        }

        footer a:hover {
            color: #e67e22;
        }

        footer p {
            margin: 5px 0;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            table {
                font-size: 0.9rem;
            }

            button {
                padding: 8px 12px;
                font-size: 0.9rem;
            }

            .checkout-form input, .checkout-form select {
                padding: 10px;
            }

            .checkout-btn {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <h1 class="logo">FashionFix</h1>
    <nav>
        <ul class="menu">
            <li><a href="home.html">Home</a></li>
            <li><a href="men.html">Men</a></li>
            <li><a href="women.html">Women</a></li>
            <li><a href="kid.html">Kids</a></li>
            <li><a href="about.html">About Us</a></li>
            <li><a href="cart.html">Cart</a></li>
        </ul>
    </nav>

    <div class="container">
        <h2>Shopping Cart</h2>
        <table>
            <thead>
                <tr>
                    <th>Product</th>
                    <th>Price</th>
                    <th>Quantity</th>
                    <th>Total</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="cart-items"></tbody>
        </table>

        <div id="empty-cart-msg" style="display:none;">Your cart is empty!</div>
        <div class="total" id="total-amount-container">Total Amount: <span id="total-amount">Rs.0.00</span></div>
        <div class="offer" id="offer-msg"></div>
        <button class="checkout-btn" onclick="proceedToCheckout()">Proceed to Checkout</button>

        <!-- Checkout Form -->
        <div class="checkout-form" id="checkout-form" style="display:none;">
            <h3>Checkout</h3>
            <input type="text" id="name" placeholder="Full Name" required>
            <input type="text" id="address" placeholder="Shipping Address" required>
            <input type="tel" id="phone" placeholder="Phone Number" required pattern="^\d{10}$" title="Phone number must be 10 digits">
            <select id="payment-method" required>
                <option value="">Select Payment Method</option>
                <option value="cod">Cash on Delivery</option>
                <option value="online">Online Payment</option>
                <option value="card">Credit/Debit Card</option>
                <option value="upi">UPI Payment</option>
            </select>
            <button class="submit-btn" type="button" onclick="submitOrder()">Submit Order</button>
        </div>
    </div>
	<script>
document.addEventListener("DOMContentLoaded", function() {
    displayCartItems();
});

function getCartItems() {
    const cart = localStorage.getItem("cart");
    return cart ? JSON.parse(cart) : [];
}

function displayCartItems() {
    const cartItems = getCartItems();
    const cartTableBody = document.querySelector("#cart-items");
    const totalAmountElem = document.getElementById("total-amount");
    const offerMsgElem = document.getElementById("offer-msg");

    if (!cartTableBody) {
        console.error("Cart table body not found!");
        return;
    }

    let totalAmount = 0;

    cartTableBody.innerHTML = ''; // Clear the table body

    if (cartItems.length === 0) {
        totalAmountElem.textContent = 'Rs.0.00';
        offerMsgElem.textContent = '';
        document.getElementById("empty-cart-msg").style.display = 'block';
    } else {
        document.getElementById("empty-cart-msg").style.display = 'none';
        cartItems.forEach((item, index) => {
            const row = document.createElement("tr");
            const total = item.price * item.quantity;
            totalAmount += total;
            row.innerHTML = `
                <td>${item.name}</td>
                <td>Rs.${item.price}</td>
                <td><input type="number" value="${item.quantity}" min="1" onchange="updateQuantity(${index}, this.value)"></td>
                <td>Rs.${total.toFixed(2)}</td>
                <td><button class="btn-remove" onclick="removeFromCart(${index})">Remove</button></td>
            `;
            cartTableBody.appendChild(row);
        });

        const discount = getDiscount(totalAmount);
        const discountedAmount = totalAmount - discount;
        totalAmountElem.textContent = `Rs.${discountedAmount.toFixed(2)}`;
        offerMsgElem.textContent = getOfferMessage(totalAmount);
    }
}

function getDiscount(totalAmount) {
    if (totalAmount >= 10000) return totalAmount * 0.20;
    if (totalAmount >= 5000) return totalAmount * 0.15;
    if (totalAmount >= 3000) return totalAmount * 0.10;
    if (totalAmount >= 2000) return totalAmount * 0.08;
    if (totalAmount >= 1000) return totalAmount * 0.05;
    return 0;
}

function getOfferMessage(totalAmount) {
    if (totalAmount >= 10000) return 'You qualify for a 20% discount!';
    if (totalAmount >= 5000) return 'You qualify for a 15% discount!';
    if (totalAmount >= 3000) return 'You qualify for a 10% discount!';
    if (totalAmount >= 2000) return 'You qualify for an 8% discount!';
    if (totalAmount >= 1000) return 'You qualify for a 5% discount!';
    return '';
}

function updateQuantity(index, newQuantity) {
    const cartItems = getCartItems();
    if (newQuantity <= 0) newQuantity = 1;
    cartItems[index].quantity = newQuantity;
    localStorage.setItem("cart", JSON.stringify(cartItems));
    displayCartItems();
}

function removeFromCart(index) {
    const cartItems = getCartItems();
    cartItems.splice(index, 1);
    localStorage.setItem("cart", JSON.stringify(cartItems));
    displayCartItems();
}

function proceedToCheckout() {
    const cartItems = getCartItems();
    if (cartItems.length === 0) {
        alert("Your cart is empty!");
        return;
    }
    toggleCheckoutForm();
}

function toggleCheckoutForm() {
    const checkoutForm = document.getElementById("checkout-form");
    checkoutForm.style.display = checkoutForm.style.display === "block" ? "none" : "block";
}

function submitOrder() {
    const name = document.getElementById("name").value;
    const address = document.getElementById("address").value;
    const phone = document.getElementById("phone").value;
    const paymentMethod = document.getElementById("payment-method").value;
    let paymentDetails = '';

    if (paymentMethod !== 'cod') {
        const paymentInput = document.getElementById("payment");
        if (paymentInput) paymentDetails = paymentInput.value;
    }

    if (!name || !address || !phone || !paymentMethod || (paymentMethod !== 'cod' && !paymentDetails)) {
        alert("Please fill all required fields.");
        return;
    }

    const cartItems = getCartItems();
    const totalAmount = document.getElementById("total-amount").textContent;

    const queryString = new URLSearchParams({
        name,
        address,
        phone,
        paymentMethod,
        paymentDetails,
        cartItems: JSON.stringify(cartItems),
        totalAmount
    }).toString();

    alert("Order submitted successfully!");
    localStorage.removeItem("cart");
    displayCartItems();
    toggleCheckoutForm();
    window.location.href = 'home.html';
}

    </script>
</body>

</html>